
---
title: Introduction
---

A *rotation* in a binary tree is a local restructuring of the tree that changes it into another tree. One can execute a rotation by collapsing an internal edge of the tree to a point, thereby obtaining a node with three children, and then re-expanding the node of order three in the alternative way into two nodes of order $2$. The *rotation distance* between a pair of trees is the minimum number of rotations needed to convert one tree into the other. The problem addressed in this paper is: what is the maximum rotation distance between any pair of n-node binary trees? We show that for all $n \geq 11$ this distance is at most $2n - 6$ and that for all sufficiently large $n$ this bound is tight. Culik and Wood [2] showed that the maximum rotation distance is at most $2n - 2$. Tom Leighton (private communication) showed that there exist trees whose rotation distance is at least $7n/4 - O(1)$. Pallo [7] proposed a heuristic search algorithm to compute the rotation distance between two given trees.
Our interest in this problem stems from our attempt to solve the dynamic optimality conjecture concerning the performance of splaying [8,10]. Splaying is a heuristic for modifying the structure of a binary search tree in such a way that repeatedly accessing and updating the information in the tree is efficient. Although our solution to the problem of maximum rotation distance did not resolve the conjecture about splaying, the results in this paper are interesting for at least two other reasons. First, the combinatorial system of trees and their rotations is a fundamental one that is isomorphic to other natural combinatorial systems. Results concerning this system are of interest from a purely mathematical point of view. Second, the method we use to solve the problem is novel and interesting in its own right, and can potentially be applied to related problems.
A system that is isomorphic to binary trees related by rotations is that of triangulations of a polygon related by the *diagonal flip* operation. This is the operation that converts one triangulation of a polygon into another by removing a diagonal in the triangulation and adding the diagonal that subdivides the resulting quadrilateral in the opposite way. This type of move was studied by Wagner [14] in the context of arbitrary triangulated planar graphs, and by Dewdney [3] in the case of graphs of genus one. They showed that any such graph can be transformed to any other by diagonal flips, but did not try to accurately estimate how many flips are necessary.
Our approach to solving the rotation distance problem is based on the observation that any sequence of diagonal flips converting one triangulation of a polygon into another gives a way to dissect (into tetrahedra) a polyhedron formed from the two triangulations. Using hyperbolic geometry, we construct polyhedra that require many tetrahedra to triangulate them. (Here and hereafter we use the word "triangulation" in a general sense meaning a dissection into simplices of appropriate dimension. A more rigorous definition is given in section 2.4.) These polyhedra can be used to exhibit pairs of n-node trees (for all sufficiently large $n$) such that the rotation distance between them is $2n - 6$. 

In [section 2](./rotation-distance-2.md) we define the problem on trees, make the connection between trees and triangulations of a polygon, and show that sequences of diagonal flips are related to triangulations of polyhedra. In section 3 we show how to use hyperbolic geometry to obtain a lower bound on the number of tetrahedra required to triangulate any polyhedron. We then construct particular polyhedra that require many tetrahedra to triangulate them. Section 4 contains remarks and some open problems.
